"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(a){var u=a(window),h=u.height();u.resize(function(){h=u.height()}),a.fn.parallax=function(o,n,t){function e(){var s=u.scrollTop();i.each(function(t,e){var i=a(e),e=i.offset().top;e+r(i)<s||s+h<e||i.css("backgroundPosition",o+" "+Math.round((i.data("firstTop")-s)*n)+"px")})}var r,i=a(this);i.each(function(t,e){$element=a(e),$element.data("firstTop",$element.offset().top)}),r=t?function(t){return t.outerHeight(!0)}:function(t){return t.height()},(arguments.length<1||null===o)&&(o="50%"),(arguments.length<2||null===n)&&(n=.1),(arguments.length<3||null===t)&&(t=!0),u.bind("scroll",e).resize(e),e()}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==("undefined"==typeof module?"undefined":_typeof(module))&&"object"==_typeof(module.exports)?module.exports=t(require("jquery")):t(jQuery)}(function($){function initMouseDetection(t){var n,r,e=".smartmenus_mouse";mouseDetectionEnabled||t?mouseDetectionEnabled&&t&&($(document).off(e),mouseDetectionEnabled=!1):(n=!0,r=null,(t={mousemove:function(t){var e,i,s,o={x:t.pageX,y:t.pageY,timeStamp:(new Date).getTime()};r&&(e=Math.abs(r.x-o.x),i=Math.abs(r.y-o.y),(0<e||0<i)&&e<=2&&i<=2&&o.timeStamp-r.timeStamp<=300&&(mouse=!0,n)&&((s=$(t.target).closest("a")).is("a")&&$.each(menuTrees,function(){return $.contains(this.$root[0],s[0])?(this.itemEnter({currentTarget:s[0]}),!1):void 0}),n=!1)),r=o}})[touchEvents?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut"]=function(t){isTouchEvent(t.originalEvent)&&(mouse=!1)},$(document).on(getEventsNS(t,e)),mouseDetectionEnabled=!0)}function isTouchEvent(t){return!/^(4|mouse)$/.test(t.pointerType)}function getEventsNS(t,e){e=e||"";var i,s={};for(i in t)s[i.split(" ").join(e+" ")+e]=t[i];return s}var menuTrees=[],mouse=!1,touchEvents="ontouchstart"in window,mouseDetectionEnabled=!1,requestAnimationFrame=window.requestAnimationFrame||function(t){return setTimeout(t,1e3/60)},cancelAnimationFrame=window.cancelAnimationFrame||function(t){clearTimeout(t)},canAnimate=!!$.fn.animate;return $.SmartMenus=function(t,e){this.$root=$(t),this.opts=e,this.rootId="",this.accessIdPrefix="",this.$subArrow=null,this.activatedItems=[],this.visibleSubMenus=[],this.showTimeout=0,this.hideTimeout=0,this.scrollTimeout=0,this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.idInc=0,this.$firstLink=null,this.$firstSub=null,this.disabled=!1,this.$disableOverlay=null,this.$touchScrollingSub=null,this.cssTransforms3d="perspective"in t.style||"webkitPerspective"in t.style,this.wasCollapsible=!1,this.init()},$.extend($.SmartMenus,{hideAll:function(){$.each(menuTrees,function(){this.menuHideAll()})},destroy:function(){for(;menuTrees.length;)menuTrees[0].destroy();initMouseDetection(!0)},prototype:{init:function(t){var i,s,o,n=this;t||(menuTrees.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.accessIdPrefix="sm-"+this.rootId+"-",this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=!0),t=".smartmenus",this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).on(getEventsNS({"mouseover focusin":$.proxy(this.rootOver,this),"mouseout focusout":$.proxy(this.rootOut,this),keydown:$.proxy(this.rootKeyDown,this)},".smartmenus")).on(getEventsNS({mouseenter:$.proxy(this.itemEnter,this),mouseleave:$.proxy(this.itemLeave,this),mousedown:$.proxy(this.itemDown,this),focus:$.proxy(this.itemFocus,this),blur:$.proxy(this.itemBlur,this),click:$.proxy(this.itemClick,this)},".smartmenus"),"a"),t+=this.rootId,this.opts.hideOnClick&&$(document).on(getEventsNS({touchstart:$.proxy(this.docTouchStart,this),touchmove:$.proxy(this.docTouchMove,this),touchend:$.proxy(this.docTouchEnd,this),click:$.proxy(this.docClick,this)},t)),$(window).on(getEventsNS({"resize orientationchange":$.proxy(this.winResize,this)},t)),this.opts.subIndicators&&(this.$subArrow=$("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),initMouseDetection()),this.$firstSub=this.$root.find("ul").each(function(){n.menuInit($(this))}).eq(0),this.$firstLink=this.$root.find("a").eq(0),this.opts.markCurrentItem&&(i=/(index|default)\.[^#\?\/]*/i,s=window.location.href.replace(i,""),o=s.replace(/#.*/,""),this.$root.find("a").each(function(){var t=this.href.replace(i,""),e=$(this);t!=s&&t!=o||(e.addClass("current"),n.opts.markCurrentTree&&e.parentsUntil("[data-smartmenus-id]","ul").each(function(){$(this).dataSM("parent-a").addClass("current")}))})),this.wasCollapsible=this.isCollapsible()},destroy:function(t){var e;t||(e=".smartmenus",this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").off(".smartmenus"),e+=this.rootId,$(document).off(e),$(window).off(e),this.opts.subIndicators&&(this.$subArrow=null)),this.menuHideAll();var i=this;this.$root.find("ul").each(function(){var t=$(this);t.dataSM("scroll-arrows")&&t.dataSM("scroll-arrows").remove(),t.dataSM("shown-before")&&((i.opts.subMenusMinWidth||i.opts.subMenusMaxWidth)&&t.css({width:"",minWidth:"",maxWidth:""}).removeClass("sm-nowrap"),t.dataSM("scroll-arrows")&&t.dataSM("scroll-arrows").remove(),t.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""})),0==(t.attr("id")||"").indexOf(i.accessIdPrefix)&&t.removeAttr("id")}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeAttr("aria-expanded"),this.$root.find("a.has-submenu").each(function(){var t=$(this);0==t.attr("id").indexOf(i.accessIdPrefix)&&t.removeAttr("id")}).removeClass("has-submenu").removeDataSM("sub").removeAttr("aria-haspopup").removeAttr("aria-controls").removeAttr("aria-expanded").closest("li").removeDataSM("sub"),this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove(),this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current"),t||(this.$root=null,this.$firstLink=null,this.$firstSub=null,this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),menuTrees.splice($.inArray(this,menuTrees),1))},disable:function(t){this.disabled||(this.menuHideAll(),t||this.opts.isPopup||!this.$root.is(":visible")||(t=this.$root.offset(),this.$disableOverlay=$('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:t.top,left:t.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(!0),opacity:0}).appendTo(document.body)),this.disabled=!0)},docClick:function(t){return this.$touchScrollingSub?void(this.$touchScrollingSub=null):void((this.visibleSubMenus.length&&!$.contains(this.$root[0],t.target)||$(t.target).closest("a").length)&&this.menuHideAll())},docTouchEnd:function(){var t;this.lastTouch&&(!this.visibleSubMenus.length||void 0!==this.lastTouch.x2&&this.lastTouch.x1!=this.lastTouch.x2||void 0!==this.lastTouch.y2&&this.lastTouch.y1!=this.lastTouch.y2||this.lastTouch.target&&$.contains(this.$root[0],this.lastTouch.target)||(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),(t=this).hideTimeout=setTimeout(function(){t.menuHideAll()},350)),this.lastTouch=null)},docTouchMove:function(t){this.lastTouch&&(t=t.originalEvent.touches[0],this.lastTouch.x2=t.pageX,this.lastTouch.y2=t.pageY)},docTouchStart:function(t){t=t.originalEvent.touches[0];this.lastTouch={x1:t.pageX,y1:t.pageY,target:t.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getClosestMenu:function(t){for(var e=$(t).closest("ul");e.dataSM("in-mega");)e=e.parent().closest("ul");return e[0]||null},getHeight:function(t){return this.getOffset(t,!0)},getOffset:function(t,e){var i;"none"==t.css("display")&&(i={position:t[0].style.position,visibility:t[0].style.visibility},t.css({position:"absolute",visibility:"hidden"}).show());var s=t[0].getBoundingClientRect&&t[0].getBoundingClientRect(),s=s&&(e?s.height||s.bottom-s.top:s.width||s.right-s.left);return s||0===s||(s=e?t[0].offsetHeight:t[0].offsetWidth),i&&t.hide().css(i),s},getStartZIndex:function(t){var e=parseInt(this[t?"$root":"$firstSub"].css("z-index"));return!t&&isNaN(e)&&(e=parseInt(this.$root.css("z-index"))),isNaN(e)?1:e},getTouchPoint:function(t){return t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0]||t},getViewport:function(t){var e=t?"Height":"Width",t=document.documentElement["client"+e],e=window["inner"+e];return e&&(t=Math.min(t,e)),t},getViewportHeight:function(){return this.getViewport(!0)},getViewportWidth:function(){return this.getViewport()},getWidth:function(t){return this.getOffset(t)},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(t){return this.handleEvents()&&!this.isLinkInMegaMenu(t)},isCollapsible:function(){return"static"==this.$firstSub.css("position")},isCSSOn:function(){return"inline"!=this.$firstLink.css("display")},isFixed:function(){var t="fixed"==this.$root.css("position");return t||this.$root.parentsUntil("body").each(function(){return"fixed"==$(this).css("position")?!(t=!0):void 0}),t},isLinkInMegaMenu:function(t){return $(this.getClosestMenu(t[0])).hasClass("mega-menu")},isTouchMode:function(){return!mouse||this.opts.noMouseOver||this.isCollapsible()},itemActivate:function(t,e){var i,s,o=t.closest("ul"),n=o.dataSM("level");1<n&&(!this.activatedItems[n-2]||this.activatedItems[n-2][0]!=o.dataSM("parent-a")[0])&&(i=this,$(o.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(o).each(function(){i.itemActivate($(this).dataSM("parent-a"))})),this.isCollapsible()&&!e||this.menuHideSubMenus(this.activatedItems[n-1]&&this.activatedItems[n-1][0]==t[0]?n:n-1),this.activatedItems[n-1]=t,!1!==this.$root.triggerHandler("activate.smapi",t[0])&&(s=t.dataSM("sub"))&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(s)},itemBlur:function(t){t=$(t.currentTarget);this.handleItemEvents(t)&&this.$root.triggerHandler("blur.smapi",t[0])},itemClick:function(t){var e=$(t.currentTarget);if(this.handleItemEvents(e)){if(this.$touchScrollingSub&&this.$touchScrollingSub[0]==e.closest("ul")[0])return this.$touchScrollingSub=null,t.stopPropagation(),!1;if(!1===this.$root.triggerHandler("click.smapi",e[0]))return!1;var i=$(t.target).is(".sub-arrow"),s=e.dataSM("sub"),o=!!s&&2==s.dataSM("level"),n=this.isCollapsible(),r=/toggle$/.test(this.opts.collapsibleBehavior),a=/link$/.test(this.opts.collapsibleBehavior),t=/^accordion/.test(this.opts.collapsibleBehavior);if(s&&!s.is(":visible")){if((!a||!n||i)&&(this.opts.showOnClick&&o&&(this.clickActivated=!0),this.itemActivate(e,t),s.is(":visible")))return!(this.focusActivated=!0)}else if(n&&(r||i))return this.itemActivate(e,t),this.menuHide(s),r&&(this.focusActivated=!1),!1;return!(this.opts.showOnClick&&o||e.hasClass("disabled")||!1===this.$root.triggerHandler("select.smapi",e[0]))&&void 0}},itemDown:function(t){t=$(t.currentTarget);this.handleItemEvents(t)&&t.dataSM("mousedown",!0)},itemEnter:function(t){var e,i=$(t.currentTarget);this.handleItemEvents(i)&&(this.isTouchMode()||(this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0),(e=this).showTimeout=setTimeout(function(){e.itemActivate(i)},this.opts.showOnClick&&1==i.closest("ul").dataSM("level")?1:this.opts.showTimeout)),this.$root.triggerHandler("mouseenter.smapi",i[0]))},itemFocus:function(t){t=$(t.currentTarget);this.handleItemEvents(t)&&(!this.focusActivated||this.isTouchMode()&&t.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==t[0]||this.itemActivate(t,!0),this.$root.triggerHandler("focus.smapi",t[0]))},itemLeave:function(t){t=$(t.currentTarget);this.handleItemEvents(t)&&(this.isTouchMode()||(t[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),t.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",t[0]))},menuHide:function(t){var e;!1!==this.$root.triggerHandler("beforehide.smapi",t[0])&&(canAnimate&&t.stop(!0,!0),"none"!=t.css("display"))&&(e=function(){t.css("z-index","")},this.isCollapsible()?canAnimate&&this.opts.collapsibleHideFunction?this.opts.collapsibleHideFunction.call(this,t,e):t.hide(this.opts.collapsibleHideDuration,e):canAnimate&&this.opts.hideFunction?this.opts.hideFunction.call(this,t,e):t.hide(this.opts.hideDuration,e),t.dataSM("scroll")&&(this.menuScrollStop(t),t.css({"touch-action":"","-ms-touch-action":"","-webkit-transform":"",transform:""}).off(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide()),t.dataSM("parent-a").removeClass("highlighted").attr("aria-expanded","false"),t.attr({"aria-expanded":"false","aria-hidden":"true"}),e=t.dataSM("level"),this.activatedItems.splice(e-1,1),this.visibleSubMenus.splice($.inArray(t,this.visibleSubMenus),1),this.$root.triggerHandler("hide.smapi",t[0]))},menuHideAll:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);for(var t=this.opts.isPopup?1:0,e=this.visibleSubMenus.length-1;t<=e;e--)this.menuHide(this.visibleSubMenus[e]);this.opts.isPopup&&(canAnimate&&this.$root.stop(!0,!0),this.$root.is(":visible")&&(canAnimate&&this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration))),this.activatedItems=[],this.visibleSubMenus=[],this.clickActivated=!1,this.focusActivated=!1,this.zIndexInc=0,this.$root.triggerHandler("hideAll.smapi")},menuHideSubMenus:function(t){for(var e=this.activatedItems.length-1;t<=e;e--){var i=this.activatedItems[e].dataSM("sub");i&&this.menuHide(i)}},menuInit:function(t){if(!t.dataSM("in-mega")){t.hasClass("mega-menu")&&t.find("ul").dataSM("in-mega",!0);for(var e=2,i=t[0];(i=i.parentNode.parentNode)!=this.$root[0];)e++;var s=t.prevAll("a").eq(-1);s.length||(s=t.prevAll().find("a").eq(-1)),s.addClass("has-submenu").dataSM("sub",t),t.dataSM("parent-a",s).dataSM("level",e).parent().dataSM("sub",t);var o=s.attr("id")||this.accessIdPrefix+ ++this.idInc,n=t.attr("id")||this.accessIdPrefix+ ++this.idInc;s.attr({id:o,"aria-haspopup":"true","aria-controls":n,"aria-expanded":"false"}),t.attr({id:n,role:"group","aria-hidden":"true","aria-labelledby":o,"aria-expanded":"false"}),this.opts.subIndicators&&s[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function(e){var t,i,s=e.dataSM("parent-a"),o=s.closest("li"),n=o.parent(),r=e.dataSM("level"),a=this.getWidth(e),u=this.getHeight(e),h=s.offset(),l=h.left,c=h.top,d=this.getWidth(s),m=this.getHeight(s),p=$(window),f=p.scrollLeft(),v=p.scrollTop(),h=this.getViewportWidth(),s=this.getViewportHeight(),p=n.parent().is("[data-sm-horizontal-sub]")||2==r&&!n.hasClass("sm-vertical"),n=this.opts.rightToLeftSubMenus&&!o.is("[data-sm-reverse]")||!this.opts.rightToLeftSubMenus&&o.is("[data-sm-reverse]"),o=2==r?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,r=2==r?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY,r=p?(t=n?d-a-o:o,this.opts.bottomToTopSubMenus?-u-r:m+r):(t=n?o-a:d-o,this.opts.bottomToTopSubMenus?m-r-u:r);this.opts.keepInViewport&&(l=l+t,c=c+r,n&&l<f?t=p?f-l+t:d-o:!n&&f+h<l+a&&(t=p?f+h-a-l+t:o-a),p||(u<s&&v+s<c+u?r+=v+s-u-c:(s<=u||c<v)&&(r+=v-c)),(p&&(v+s+.49<c+u||c<v)||!p&&s+.49<u)&&(i=this,e.dataSM("scroll-arrows")||e.dataSM("scroll-arrows",$([$('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],$('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).on({mouseenter:function(){e.dataSM("scroll").up=$(this).hasClass("scroll-up"),i.menuScroll(e)},mouseleave:function(t){i.menuScrollStop(e),i.menuScrollOut(e,t)},"mousewheel DOMMouseScroll":function(t){t.preventDefault()}}).insertAfter(e)),s=".smartmenus_scroll",e.dataSM("scroll",{y:this.cssTransforms3d?0:r-m,step:1,itemH:m,subH:u,arrowDownH:this.getHeight(e.dataSM("scroll-arrows").eq(1))}).on(getEventsNS({mouseover:function(t){i.menuScrollOver(e,t)},mouseout:function(t){i.menuScrollOut(e,t)},"mousewheel DOMMouseScroll":function(t){i.menuScrollMousewheel(e,t)}},s)).dataSM("scroll-arrows").css({top:"auto",left:"0",marginLeft:t+(parseInt(e.css("border-left-width"))||0),width:a-(parseInt(e.css("border-left-width"))||0)-(parseInt(e.css("border-right-width"))||0),zIndex:e.css("z-index")}).eq(p&&this.opts.bottomToTopSubMenus?0:1).show(),this.isFixed()&&((p={})[touchEvents?"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp"]=function(t){i.menuScrollTouch(e,t)},e.css({"touch-action":"none","-ms-touch-action":"none"}).on(getEventsNS(p,s))))),e.css({top:"auto",left:"0",marginLeft:t,marginTop:r-m})},menuScroll:function(t,e,i){var s,o=t.dataSM("scroll"),n=t.dataSM("scroll-arrows"),r=o.up?o.upEnd:o.downEnd;if(!e&&o.momentum){if(o.momentum*=.92,(s=o.momentum)<.5)return void this.menuScrollStop(t)}else s=i||(e||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(o.step));var a,i=t.dataSM("level");this.activatedItems[i-1]&&this.activatedItems[i-1].dataSM("sub")&&this.activatedItems[i-1].dataSM("sub").is(":visible")&&this.menuHideSubMenus(i-1),o.y=o.up&&o.y>=r||!o.up&&r>=o.y?o.y:Math.abs(r-o.y)>s?o.y+(o.up?s:-s):r,t.css(this.cssTransforms3d?{"-webkit-transform":"translate3d(0, "+o.y+"px, 0)",transform:"translate3d(0, "+o.y+"px, 0)"}:{marginTop:o.y}),mouse&&(o.up&&o.y>o.downEnd||!o.up&&o.y<o.upEnd)&&n.eq(o.up?1:0).show(),o.y==r?(mouse&&n.eq(o.up?0:1).hide(),this.menuScrollStop(t)):e||(this.opts.scrollAccelerate&&o.step<this.opts.scrollStep&&(o.step+=.2),(a=this).scrollTimeout=requestAnimationFrame(function(){a.menuScroll(t)}))},menuScrollMousewheel:function(t,e){var i;this.getClosestMenu(e.target)==t[0]&&(i=0<((e=e.originalEvent).wheelDelta||-e.detail),t.dataSM("scroll-arrows").eq(i?0:1).is(":visible")&&(t.dataSM("scroll").up=i,this.menuScroll(t,!0))),e.preventDefault()},menuScrollOut:function(t,e){mouse&&(/^scroll-(up|down)/.test((e.relatedTarget||"").className)||(t[0]==e.relatedTarget||$.contains(t[0],e.relatedTarget))&&this.getClosestMenu(e.relatedTarget)==t[0]||t.dataSM("scroll-arrows").css("visibility","hidden"))},menuScrollOver:function(t,e){var i;mouse&&!/^scroll-(up|down)/.test(e.target.className)&&this.getClosestMenu(e.target)==t[0]&&(this.menuScrollRefreshData(t),i=t.dataSM("scroll"),e=$(window).scrollTop()-t.dataSM("parent-a").offset().top-i.itemH,t.dataSM("scroll-arrows").eq(0).css("margin-top",e).end().eq(1).css("margin-top",e+this.getViewportHeight()-i.arrowDownH).end().css("visibility","visible"))},menuScrollRefreshData:function(t){var e=t.dataSM("scroll"),i=$(window).scrollTop()-t.dataSM("parent-a").offset().top-e.itemH;this.cssTransforms3d&&(i=-(parseFloat(t.css("margin-top"))-i)),$.extend(e,{upEnd:i,downEnd:i+this.getViewportHeight()-e.subH})},menuScrollStop:function(t){return this.scrollTimeout?(cancelAnimationFrame(this.scrollTimeout),this.scrollTimeout=0,t.dataSM("scroll").step=1,!0):void 0},menuScrollTouch:function(t,e){var i,s,o,n;isTouchEvent(e=e.originalEvent)&&(i=this.getTouchPoint(e),this.getClosestMenu(i.target)==t[0]&&(s=t.dataSM("scroll"),/(start|down)$/i.test(e.type)?(this.menuScrollStop(t)?(e.preventDefault(),this.$touchScrollingSub=t):this.$touchScrollingSub=null,this.menuScrollRefreshData(t),$.extend(s,{touchStartY:i.pageY,touchStartTime:e.timeStamp})):/move$/i.test(e.type)?(void 0!==(o=void 0!==s.touchY?s.touchY:s.touchStartY)&&o!=i.pageY&&(this.$touchScrollingSub=t,n=i.pageY>o,void 0!==s.up&&s.up!=n&&$.extend(s,{touchStartY:i.pageY,touchStartTime:e.timeStamp}),$.extend(s,{up:n,touchY:i.pageY}),this.menuScroll(t,!0,Math.abs(i.pageY-o))),e.preventDefault()):void 0!==s.touchY&&((s.momentum=15*Math.pow(Math.abs(i.pageY-s.touchStartY)/(e.timeStamp-s.touchStartTime),2))&&(this.menuScrollStop(t),this.menuScroll(t),e.preventDefault()),delete s.touchY)))},menuShow:function(t){var e,i,s;!t.dataSM("beforefirstshowfired")&&(t.dataSM("beforefirstshowfired",!0),!1===this.$root.triggerHandler("beforefirstshow.smapi",t[0]))||!1===this.$root.triggerHandler("beforeshow.smapi",t[0])||(t.dataSM("shown-before",!0),canAnimate&&t.stop(!0,!0),t.is(":visible"))||(e=t.dataSM("parent-a"),i=this.isCollapsible(),(this.opts.keepHighlighted||i)&&e.addClass("highlighted"),i?t.removeClass("sm-nowrap").css({zIndex:"",width:"auto",minWidth:"",maxWidth:"",top:"",left:"",marginLeft:"",marginTop:""}):(t.css("z-index",this.zIndexInc=(this.zIndexInc||this.getStartZIndex())+1),(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)&&(t.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&t.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth)&&(s=this.getWidth(t),t.css("max-width",this.opts.subMenusMaxWidth),s>this.getWidth(t)&&t.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)),this.menuPosition(t)),s=function(){t.css("overflow","")},i?canAnimate&&this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,t,s):t.show(this.opts.collapsibleShowDuration,s):canAnimate&&this.opts.showFunction?this.opts.showFunction.call(this,t,s):t.show(this.opts.showDuration,s),e.attr("aria-expanded","true"),t.attr({"aria-expanded":"true","aria-hidden":"false"}),this.visibleSubMenus.push(t),this.$root.triggerHandler("show.smapi",t[0]))},popupHide:function(t){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var e=this;this.hideTimeout=setTimeout(function(){e.menuHideAll()},t?1:this.opts.hideTimeout)},popupShow:function(t,e){var i;this.opts.isPopup?(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.$root.dataSM("shown-before",!0),canAnimate&&this.$root.stop(!0,!0),this.$root.is(":visible")||(this.$root.css({left:t,top:e}),i=this,e=function(){i.$root.css("overflow","")},canAnimate&&this.opts.showFunction?this.opts.showFunction.call(this,this.$root,e):this.$root.show(this.opts.showDuration,e),this.visibleSubMenus[0]=this.$root)):alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.')},refresh:function(){this.destroy(!0),this.init(!0)},rootKeyDown:function(t){if(this.handleEvents())switch(t.keyCode){case 27:var e=this.activatedItems[0];e&&(this.menuHideAll(),e[0].focus(),(i=e.dataSM("sub"))&&this.menuHide(i));break;case 32:var i,e=$(t.target);e.is("a")&&this.handleItemEvents(e)&&(i=e.dataSM("sub"))&&!i.is(":visible")&&(this.itemClick({currentTarget:t.target}),t.preventDefault())}},rootOut:function(t){var e;!this.handleEvents()||this.isTouchMode()||t.target==this.$root[0]||(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),this.opts.showOnClick&&this.opts.hideOnClick)||((e=this).hideTimeout=setTimeout(function(){e.menuHideAll()},this.opts.hideTimeout))},rootOver:function(t){this.handleEvents()&&!this.isTouchMode()&&t.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0)},winResize:function(t){var e;this.handleEvents()?"onorientationchange"in window&&"orientationchange"!=t.type||(e=this.isCollapsible(),this.wasCollapsible&&e||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll()),this.wasCollapsible=e):this.$disableOverlay&&(e=this.$root.offset(),this.$disableOverlay.css({top:e.top,left:e.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()}))}}}),$.fn.dataSM=function(t,e){return e?this.data(t+"_smartmenus",e):this.data(t+"_smartmenus")},$.fn.removeDataSM=function(t){return this.removeData(t+"_smartmenus")},$.fn.smartmenus=function(options){if("string"!=typeof options)return this.each(function(){var dataOpts=$(this).data("sm-options")||null;if(dataOpts)try{dataOpts=eval("("+dataOpts+")")}catch(e){dataOpts=null,alert('ERROR\n\nSmartMenus jQuery init:\nInvalid "data-sm-options" attribute value syntax.')}new $.SmartMenus(this,$.extend({},$.fn.smartmenus.defaults,options,dataOpts))});var args=arguments,method=options;return Array.prototype.shift.call(args),this.each(function(){var t=$(this).data("smartmenus");t&&t[method]&&t[method].apply(t,args)})},$.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,subMenusSubOffsetY:0,subMenusMinWidth:"10em",subMenusMaxWidth:"20em",subIndicators:!0,subIndicatorsPos:"append",subIndicatorsText:"",scrollStep:30,scrollAccelerate:!0,showTimeout:250,hideTimeout:500,showDuration:0,showFunction:null,hideDuration:0,hideFunction:function(t,e){t.fadeOut(200,e)},collapsibleShowDuration:0,collapsibleShowFunction:function(t,e){t.slideDown(200,e)},collapsibleHideDuration:0,collapsibleHideFunction:function(t,e){t.slideUp(200,e)},showOnClick:!1,hideOnClick:!0,noMouseOver:!1,keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,collapsibleBehavior:"default"},$}),function(t,e){t={},"function"==typeof define&&define.amd?define([],e):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=e():t.WhenInViewport=e()}(void 0,function(){var e,i;function n(t,e,i){l.setup(),this.registryItem=h.addItem(t,"function"==typeof e?u(i||{},{callback:e}):e),h.processItem(this.registryItem)}function s(){return"innerHeight"in window?window.innerHeight:document.documentElement.offsetHeight}function o(){return"pageYOffset"in window?window.pageYOffset:document.documentElement.scrollTop||document.body.scrollTop}function r(t){return t.getBoundingClientRect().top+o()}function a(t,e,i){for(var s in t)if(t.hasOwnProperty(s)&&!1===e.call(i,t[s],s))break}function u(i){for(var t=1;t<arguments.length;t++)a(arguments[t],function(t,e){i[e]=t});return i}n.prototype.stopListening=function(){h.removeItem(this.registryItem),l.removeIfStoreEmpty()},n.defaults={threshold:0,context:null},u(n,{setRateLimiter:function(t,e){return l.rateLimiter=t,e&&(l.rateLimitDelay=e),this},checkAll:function(){return i=o(),e=s(),h.adjustPositions(h.processItem),l.removeIfStoreEmpty(),this},destroy:function(){return h.store={},l.remove(),delete l.scrollHandler,delete l.resizeHandler,this},registerAsJqueryPlugin:function(o){return o.fn.whenInViewport=function(t,e){function i(e){return function(t){e.call(this,o(t))}}var s="function"==typeof t?o.extend({},e,{callback:i(t)}):o.extend(t,{callback:i(t.callback)});return this.each(function(){s.setupOnce&&o.data(this,"whenInViewport")||o.data(this,"whenInViewport",new n(this,s))})},this}});var t,h={store:{},counter:0,addItem:function(t,e){var i="whenInViewport"+ ++this.counter,t=u({},n.defaults,e,{storeKey:i,element:t,topOffset:r(t)});return this.store[i]=t},adjustPositions:function(e){a(this.store,function(t){t.topOffset=r(t.element),e&&e.call(h,t)})},processAll:function(){a(this.store,this.processItem,this)},processItem:function(t){i+e>=t.topOffset-t.threshold&&(this.removeItem(t),t.callback.call(t.context||window,t.element))},removeItem:function(t){delete this.store[t.storeKey]},isEmpty:function(){var t=!0;return a(this.store,function(){return t=!1}),t}},l={setuped:!1,rateLimiter:function(t){return t},rateLimitDelay:100,on:function(t,e){return window.addEventListener?window.addEventListener(t,e,!1):window.attachEvent&&window.attachEvent(t,e),this},off:function(t,e){return window.removeEventListener?window.removeEventListener(t,e,!1):window.detachEvent&&window.detachEvent("on"+t,e),this},setup:function(){var t=this;this.setuped||(i=o(),e=s(),this.scrollHandler=this.scrollHandler||this.rateLimiter(function(){i=o(),h.processAll(),t.removeIfStoreEmpty()},this.rateLimitDelay),this.resizeHandler=this.resizeHandler||this.rateLimiter(function(){e=s(),h.adjustPositions(h.processItem),t.removeIfStoreEmpty()},this.rateLimitDelay),this.on("scroll",this.scrollHandler).on("resize",this.resizeHandler),this.setuped=!0)},removeIfStoreEmpty:function(){h.isEmpty()&&this.remove()},remove:function(){this.setuped&&(this.off("scroll",this.scrollHandler).off("resize",this.resizeHandler),this.setuped=!1)}};return"undefined"==typeof window||(t=window.jQuery||window.$)&&n.registerAsJqueryPlugin(t),n});